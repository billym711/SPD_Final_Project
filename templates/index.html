{% extends "layout.html" %}

{% block head %}
    <title> Smart Neighborhood Exchange - Home</title>
{% endblock %}

{% block body %}
    <div class="container">
        <h1>Welcome to the Smart Neighborhood Exchange</h1>
        <p>
            The Smart Neighborhood Exchange is your platform for sharing tools, spaces, and equipment 
            within your community. Help reduce waste, optimize resource usage, and strengthen bonds 
            with your neighbors.
        </p>
        
        <!-- Recent Listings Section -->
        <h2>Recent Listings</h2>
        <table>
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Description</th>
                    <th>More Details</th>
                </tr>
            </thead>
            <tbody>
                {% for listing in recent_listings %}
                <tr>
                    <td>
                        <img src="{{ url_for('static', filename='/' + listing['image_url']) }}" alt="{{ listing['title'] }}" width="100" height="100">
                    </td>
                    <td>{{ listing.description }}</td>
                    <td>
                        <a href="{{ url_for('listings') }}">View Details</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Top-Rated Users Section -->
        <h2>Top-Rated Users</h2>
        <table>
            <thead>
                <tr>
                    <th>Profile Image</th>
                    <th>User</th>
                    <th>More Details</th>
                </tr>
            </thead>
            <tbody>
                {% for user in top_rated_users %}
                <tr>
                    <td>
                        <img src="{{ url_for('static', filename='/' + user['profile_image']) }}" alt="User Image" width="100" height="100">
                    </td>
                    <td>{{ user.name }}</td>
                    <td>
                        <a href="{{ url_for('profile', user_id=user.id) }}">View Profile</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
